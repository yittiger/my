(window.webpackJsonp=window.webpackJsonp||[]).push([[745,1280,1337],{1321:function(e,t,n){},1335:function(e,t,n){"use strict";var r=n(47),i={name:"MyFormCustom",mixins:[n(484).a],props:{},render:function(){var e=arguments[0],t=e("div",{class:"my-form-custom"},[this.$slots.default]);return this.renderComponent(t)}};t.a=Object(r.a)(i)},3138:function(e,t,n){"use strict";n.r(t);n(730),n(117);var r=n(734),i=(n(1321),n(1335)),o=(n(552),n(555)),s=(n(427),n(368),n(370)),a=n.n(s),l=(n(445),n(0)),u=n(118),c={data:function(){return{model:{users:[{name:"张三"},{name:"李四"}]},currentModel:{}}},methods:{handleSubmit:function(e){alert(JSON.stringify(e))},handleAdd:function(){var e=Object(u.b)(this.$refs.form.currentModel);e.users.push({name:""}),this.$refs.form.currentModel=e,this.model=Object(u.b)(e)},handleRemove:function(e,t){var n=Object(u.b)(this.$refs.form.currentModel);n.users.splice(t,1),this.$refs.form.currentModel=n,this.model=Object(u.b)(n)}}};l.default.use(a.a),l.default.use(o.a),l.default.use(i.a),l.default.use(r.a);var f=c,d=n(19),h=Object(d.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("my-form",{ref:"form",attrs:{model:e.model,"label-width":"100px",inline:"","footer-block":""},on:{submit:e.handleSubmit}},e._l(e.model.users,(function(t,r){return n("div",{key:r},[n("my-input",{attrs:{name:"users."+r+".name",rules:{required:!0,message:"名称不能为空"},label:"用户名称"+(r+1),width:"400px"}}),e._v(" "),n("my-form-custom",[n("el-button",{on:{click:function(n){return e.handleAdd(t,r)}}},[e._v("增加")]),e._v(" "),r>0?n("el-button",{on:{click:function(n){return e.handleRemove(t,r)}}},[e._v("删除")]):e._e()],1)],1)})),0)}),[],!1,null,null,null);t.default=h.exports},365:function(e,t,n){"use strict";t.__esModule=!0,t.removeResizeListener=t.addResizeListener=void 0;var r,i=n(394),o=(r=i)&&r.__esModule?r:{default:r};var s="undefined"==typeof window,a=function(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var o=i.target.__resizeListeners__||[];o.length&&o.forEach((function(e){e()}))}};t.addResizeListener=function(e,t){s||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new o.default(a),e.__ro__.observe(e)),e.__resizeListeners__.push(t))},t.removeResizeListener=function(e,t){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||e.__ro__.disconnect())}},366:function(e,t,n){"use strict";t.__esModule=!0,t.isInContainer=t.getScrollContainer=t.isScroll=t.getStyle=t.once=t.off=t.on=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hasClass=h,t.addClass=function(e,t){if(!e)return;for(var n=e.className,r=(t||"").split(" "),i=0,o=r.length;i<o;i++){var s=r[i];s&&(e.classList?e.classList.add(s):h(e,s)||(n+=" "+s))}e.classList||(e.className=n)},t.removeClass=function(e,t){if(!e||!t)return;for(var n=t.split(" "),r=" "+e.className+" ",i=0,o=n.length;i<o;i++){var s=n[i];s&&(e.classList?e.classList.remove(s):h(e,s)&&(r=r.replace(" "+s+" "," ")))}e.classList||(e.className=(r||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))},t.setStyle=function e(t,n,i){if(!t||!n)return;if("object"===(void 0===n?"undefined":r(n)))for(var o in n)n.hasOwnProperty(o)&&e(t,o,n[o]);else"opacity"===(n=c(n))&&u<9?t.style.filter=isNaN(i)?"":"alpha(opacity="+100*i+")":t.style[n]=i};var i,o=n(0);var s=((i=o)&&i.__esModule?i:{default:i}).default.prototype.$isServer,a=/([\:\-\_]+(.))/g,l=/^moz([A-Z])/,u=s?0:Number(document.documentMode),c=function(e){return e.replace(a,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(l,"Moz$1")},f=t.on=!s&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)},d=t.off=!s&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)};t.once=function(e,t,n){f(e,t,(function r(){n&&n.apply(this,arguments),d(e,t,r)}))};function h(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}var p=t.getStyle=u<9?function(e,t){if(!s){if(!e||!t)return null;"float"===(t=c(t))&&(t="styleFloat");try{switch(t){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(e){return 1}default:return e.style[t]||e.currentStyle?e.currentStyle[t]:null}}catch(n){return e.style[t]}}}:function(e,t){if(!s){if(!e||!t)return null;"float"===(t=c(t))&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(n){return e.style[t]}}};var m=t.isScroll=function(e,t){if(!s)return p(e,null!==t||void 0!==t?t?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)};t.getScrollContainer=function(e,t){if(!s){for(var n=e;n;){if([window,document,document.documentElement].includes(n))return window;if(m(n,t))return n;n=n.parentNode}return n}},t.isInContainer=function(e,t){if(s||!e||!t)return!1;var n=e.getBoundingClientRect(),r=void 0;return r=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right}},368:function(e,t,n){},369:function(e,t,n){"use strict";t.__esModule=!0,t.isEmpty=t.isEqual=t.arrayEquals=t.looseEqual=t.capitalize=t.kebabCase=t.autoprefixer=t.isFirefox=t.isEdge=t.isIE=t.coerceTruthyValueToArray=t.arrayFind=t.arrayFindIndex=t.escapeRegexpString=t.valueEquals=t.generateId=t.getValueByPath=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.noop=function(){},t.hasOwn=function(e,t){return l.call(e,t)},t.toObject=function(e){for(var t={},n=0;n<e.length;n++)e[n]&&u(t,e[n]);return t},t.getPropByPath=function(e,t,n){for(var r=e,i=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),o=0,s=i.length;o<s-1&&(r||n);++o){var a=i[o];if(!(a in r)){if(n)throw new Error("please transfer a valid prop path to form item!");break}r=r[a]}return{o:r,k:i[o],v:r?r[i[o]]:null}},t.rafThrottle=function(e){var t=!1;return function(){for(var n=this,r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];t||(t=!0,window.requestAnimationFrame((function(r){e.apply(n,i),t=!1})))}},t.objToArray=function(e){if(Array.isArray(e))return e;return h(e)?[]:[e]};var i,o=n(0),s=(i=o)&&i.__esModule?i:{default:i},a=n(458);var l=Object.prototype.hasOwnProperty;function u(e,t){for(var n in t)e[n]=t[n];return e}t.getValueByPath=function(e,t){for(var n=(t=t||"").split("."),r=e,i=null,o=0,s=n.length;o<s;o++){var a=n[o];if(!r)break;if(o===s-1){i=r[a];break}r=r[a]}return i};t.generateId=function(){return Math.floor(1e4*Math.random())},t.valueEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var n=0;n!==e.length;++n)if(e[n]!==t[n])return!1;return!0},t.escapeRegexpString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var c=t.arrayFindIndex=function(e,t){for(var n=0;n!==e.length;++n)if(t(e[n]))return n;return-1},f=(t.arrayFind=function(e,t){var n=c(e,t);return-1!==n?e[n]:void 0},t.coerceTruthyValueToArray=function(e){return Array.isArray(e)?e:e?[e]:[]},t.isIE=function(){return!s.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},t.isEdge=function(){return!s.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},t.isFirefox=function(){return!s.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},t.autoprefixer=function(e){if("object"!==(void 0===e?"undefined":r(e)))return e;var t=["ms-","webkit-"];return["transform","transition","animation"].forEach((function(n){var r=e[n];n&&r&&t.forEach((function(t){e[t+n]=r}))})),e},t.kebabCase=function(e){var t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()},t.capitalize=function(e){return(0,a.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e},t.looseEqual=function(e,t){var n=(0,a.isObject)(e),r=(0,a.isObject)(t);return n&&r?JSON.stringify(e)===JSON.stringify(t):!n&&!r&&String(e)===String(t)}),d=t.arrayEquals=function(e,t){if(t=t||[],(e=e||[]).length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!f(e[n],t[n]))return!1;return!0},h=(t.isEqual=function(e,t){return Array.isArray(e)&&Array.isArray(t)?d(e,t):f(e,t)},t.isEmpty=function(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1})},370:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=97)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},97:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"el-button",class:[e.type?"el-button--"+e.type:"",e.buttonSize?"el-button--"+e.buttonSize:"",{"is-disabled":e.buttonDisabled,"is-loading":e.loading,"is-plain":e.plain,"is-round":e.round,"is-circle":e.circle}],attrs:{disabled:e.buttonDisabled||e.loading,autofocus:e.autofocus,type:e.nativeType},on:{click:e.handleClick}},[e.loading?n("i",{staticClass:"el-icon-loading"}):e._e(),e.icon&&!e.loading?n("i",{class:e.icon}):e._e(),e.$slots.default?n("span",[e._t("default")],2):e._e()])};r._withStripped=!0;var i={name:"ElButton",inject:{elForm:{default:""},elFormItem:{default:""}},props:{type:{type:String,default:"default"},size:String,icon:{type:String,default:""},nativeType:{type:String,default:"button"},loading:Boolean,disabled:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},buttonSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},buttonDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},methods:{handleClick:function(e){this.$emit("click",e)}}},o=n(0),s=Object(o.a)(i,r,[],!1,null,null,null);s.options.__file="packages/button/src/button.vue";var a=s.exports;a.install=function(e){e.component(a.name,a)};t.default=a}})},411:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t]||{};for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];void 0!==o&&(e[i]=o)}}return e}},427:function(e,t,n){},445:function(e,t,n){"use strict";var r=n(2),i=n(123),o=n(50),s=n(21),a=n(20),l=n(126),u=n(53),c=n(54)("splice"),f=Math.max,d=Math.min;r({target:"Array",proto:!0,forced:!c},{splice:function(e,t){var n,r,c,h,p,m,b=a(this),v=s(b.length),y=i(e,v),g=arguments.length;if(0===g?n=r=0:1===g?(n=0,r=v-y):(n=g-2,r=d(f(o(t),0),v-y)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=l(b,r),h=0;h<r;h++)(p=y+h)in b&&u(c,h,b[p]);if(c.length=r,n<r){for(h=y;h<v-r;h++)m=h+n,(p=h+r)in b?b[m]=b[p]:delete b[m];for(h=v;h>v-r+n;h--)delete b[h-1]}else if(n>r)for(h=v-r;h>y;h--)m=h+n-1,(p=h+r-1)in b?b[m]=b[p]:delete b[m];for(h=0;h<n;h++)b[h+y]=arguments[h+2];return b.length=v-r+n,c}})},456:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=121)}({0:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s,a){var l,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,l):[l]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},121:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this.$createElement;return(this._self._c||e)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)};r._withStripped=!0;var i=n(9),o=n.n(i),s={name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach((function(e){e.removeValidateEvents(),e.addValidateEvents()})),this.validateOnRuleChange&&this.validate((function(){}))}},computed:{autoLabelWidth:function(){if(!this.potentialLabelWidthArr.length)return 0;var e=Math.max.apply(Math,this.potentialLabelWidthArr);return e?e+"px":""}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var e=this;this.$on("el.form.addField",(function(t){t&&e.fields.push(t)})),this.$on("el.form.removeField",(function(t){t.prop&&e.fields.splice(e.fields.indexOf(t),1)}))},methods:{resetFields:function(){this.model?this.fields.forEach((function(e){e.resetField()})):console.warn("[Element Warn][Form]model is required for resetFields to work.")},clearValidate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length?"string"==typeof e?this.fields.filter((function(t){return e===t.prop})):this.fields.filter((function(t){return e.indexOf(t.prop)>-1})):this.fields;t.forEach((function(e){e.clearValidate()}))},validate:function(e){var t=this;if(this.model){var n=void 0;"function"!=typeof e&&window.Promise&&(n=new window.Promise((function(t,n){e=function(e){e?t(e):n(e)}})));var r=!0,i=0;0===this.fields.length&&e&&e(!0);var s={};return this.fields.forEach((function(n){n.validate("",(function(n,a){n&&(r=!1),s=o()({},s,a),"function"==typeof e&&++i===t.fields.length&&e(r,s)}))})),n||void 0}console.warn("[Element Warn][Form]model is required for validate to work!")},validateField:function(e,t){e=[].concat(e);var n=this.fields.filter((function(t){return-1!==e.indexOf(t.prop)}));n.length?n.forEach((function(e){e.validate("",t)})):console.warn("[Element Warn]please pass correct props!")},getLabelWidthIndex:function(e){var t=this.potentialLabelWidthArr.indexOf(e);if(-1===t)throw new Error("[ElementForm]unpected width ",e);return t},registerLabelWidth:function(e,t){if(e&&t){var n=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(n,1,e)}else e&&this.potentialLabelWidthArr.push(e)},deregisterLabelWidth:function(e){var t=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(t,1)}}},a=n(0),l=Object(a.a)(s,r,[],!1,null,null,null);l.options.__file="packages/form/src/form.vue";var u=l.exports;u.install=function(e){e.component(u.name,u)};t.default=u},9:function(e,t){e.exports=n(411)}})},458:function(e,t,n){"use strict";t.__esModule=!0,t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isHtmlElement=function(e){return e&&e.nodeType===Node.ELEMENT_NODE};t.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},t.isUndefined=function(e){return void 0===e},t.isDefined=function(e){return null!=e}},477:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}var i=["attrs","props","domProps"],o=["class","style","directives"],s=["on","nativeOn"],a=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=function(e){return e.reduce((function(e,t){for(var n in t)if(e[n])if(-1!==i.indexOf(n))e[n]=r({},e[n],t[n]);else if(-1!==o.indexOf(n)){var l=e[n]instanceof Array?e[n]:[e[n]],u=t[n]instanceof Array?t[n]:[t[n]];e[n]=l.concat(u)}else if(-1!==s.indexOf(n))for(var c in t[n])if(e[n][c]){var f=e[n][c]instanceof Array?e[n][c]:[e[n][c]],d=t[n][c]instanceof Array?t[n][c]:[t[n][c]];e[n][c]=f.concat(d)}else e[n][c]=t[n][c];else if("hook"==n)for(var h in t[n])e[n][h]=e[n][h]?a(e[n][h],t[n][h]):t[n][h];else e[n]=t[n];else e[n]=t[n];return e}),{})}},484:function(e,t,n){"use strict";var r=n(477),i=n.n(r),o=n(46),s=n(404),a=n.n(s),l=(n(201),n(30),n(77),n(76),n(9),n(366)),u=n(365),c=n(118),f=n(127),d=n(213);t.a={inject:{myForm:{default:null}},components:{FormItem:a.a},props:{name:String,width:String,props:Object,options:Array,keyMap:{type:Object,default:function(){return{id:"id",label:"label",value:"value",disabled:"disabled",parentId:"parentId"}}},collapsible:Boolean,stopEnterEvent:Boolean,depend:String,dependValue:[String,Number,Boolean,Object,Array,Function],cascade:String,loader:Function,dict:String,disabled:Boolean,readonly:Boolean,placeholder:String,size:String},data:function(){return{cascadeValue:null,currentOptions:[],loading:!1}},computed:{fieldValue:{get:function(){if(this.name&&this.myForm){var e=this.myForm.currentModel;return f(e,this.name,this.getDefaultValue())}return this.value||this.getDefaultValue()},set:function(e){if(this.name&&this.myForm){var t=this.myForm.currentModel,n=Object(c.b)(t);d(n,this.name,e),Object(c.e)(t,n)||(this.myForm.currentModel[this.name]=n[this.name],this.myForm.currentModel=n)}else this.$emit("input",e)}},itemWidth:function(){return this.width||(this.myForm&&this.myForm.itemWidth?this.myForm.itemWidth:null)},itemStyle:function(){return{width:this.itemWidth}},innerProps:function(){return Object(o.a)({disabled:this.disabled,readonly:this.readonly,placeholder:this.placeholder,size:this.size},this.props)}},watch:{itemWidth:{immediate:!0,handler:function(){var e=this;this.$nextTick((function(){e.setContentWidth()}))}},"myForm.currentCollapsed":function(e){var t=this,n=this.myForm,r=n.resetCollapsed,i=n.model;e&&r&&i&&this.collapsible&&this.$nextTick((function(){t.fieldValue=f(t.myForm.model,t.name,t.getDefaultValue())})),this.collapsible&&(e?Object(u.removeResizeListener)(this.$el,this.setContentWidth):(this.currentOptions&&0!==this.currentOptions.length||this.loadOptions(this.myForm.currentModel,this),this.$nextTick((function(){Object(u.addResizeListener)(t.$el,t.setContentWidth),t.setContentWidth()}))))},options:{immediate:!0,handler:function(e){var t=this;this.currentOptions=Object(c.b)(e)||[],this.$nextTick((function(){t.clearValidate()}))}}},methods:{getDefaultValue:function(){return""},resetField:function(){this.$refs.elItem&&this.$refs.elItem.resetField()},clearValidate:function(){this.$refs.elItem&&this.$refs.elItem.clearValidate()},isCollapsed:function(){if(!this.myForm)return!1;var e=this.myForm,t=e.collapsible,n=e.currentCollapsed;return t&&n&&this.collapsible},isMatchDepend:function(){if(!this.depend||!this.myForm)return!0;var e=this.myForm.currentModel,t=e[this.depend],n=!0;return!(n="function"==typeof this.dependValue?this.dependValue(t,e,this):Object(c.e)(this.dependValue,t))&&this.name&&e[this.name]&&(this.fieldValue=this.getDefaultValue(),delete e[this.name]),n},createSlots:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.$createElement;return t.map((function(t){return n("template",{slot:t},[e.$slots[t]])}))},renderComponent:function(e){var t=this,n=this.$createElement;if(!this.myForm)return e;var r=this.$scopedSlots.error?{error:function(e){return n("div",{class:"el-form-item__error my-from__custom-error"},[t.$scopedSlots.error(e)])}}:null,o=this.isCollapsed(),s=this.isMatchDepend();return n("transition",{attrs:{name:this.myForm.collapseEffect}},[!o&&s?n("FormItem",i()([{ref:"elItem",class:"my-form-item"},{props:this.$attrs,scopedSlots:r,style:this.itemStyle},{attrs:{prop:this.name},nativeOn:{keyup:function(e){return!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.stopEvent(e)}}}]),[this.$slots.label?n("template",{slot:"label"},[this.$slots.label]):null,this.$slots.before,e,this.$slots.after]):n("div",{style:{display:"none"}},[this.name])])},extendMethods:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e&&n.forEach((function(n){t[n]=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e[n].apply(e,r)}}))},setContentWidth:function(){if(this.itemWidth&&this.$el){var e=this.$el.querySelector(".el-form-item__content"),t=this.$el.querySelector(".el-form-item__label");if(e){var n=t?t.getBoundingClientRect():{width:0},r=this.$el.getBoundingClientRect().width-n.width;Object(l.setStyle)(e,{width:"".concat(r,"px")})}}},stopEvent:function(e){this.stopEnterEvent&&e.stopPropagation()},loadOptions:function(e){var t=this;if(!this.isCollapsed()&&this.isMatchDepend())if(this.options)this.currentOptions=Object(c.b)(this.options);else{if(this.loader)return this.loading=!0,void this.loader(e,this).then((function(e){t.currentOptions=Object(c.b)(e)})).finally((function(){t.loading=!1}));if(this.myForm){if(this.dict){var n=(this.myForm.dictMap||{})[this.dict];if(n)return void(this.currentOptions=n)}this.myForm.loader&&(this.loading=!0,this.myForm.loader(e,this).then((function(e){t.currentOptions=Object(c.b)(e)})).finally((function(){t.loading=!1})))}}},handleWatch:function(e){var t=e[this.cascade];Object(c.e)(this.cascadeValue,t)||(this.fieldValue=this.getDefaultValue(),this.cascadeValue=t,this.loadOptions(e))},bindCascade:function(){if(this.cascade&&this.myForm){var e=this.myForm.currentModel;this.cascadeValue=e[this.cascade],this.unwatch=this.$watch("myForm.currentModel",this.handleWatch,{deep:!0})}},unbindCascade:function(){this.unwatch&&this.unwatch()}},mounted:function(){Object(u.addResizeListener)(this.$el,this.setContentWidth)},created:function(){var e=null;this.myForm&&(this.myForm.addItem(this),e=this.myForm.currentModel),this.loadOptions(e,this),this.bindCascade()},beforeDestroy:function(){Object(u.removeResizeListener)(this.$el,this.setContentWidth),this.unbindCascade(),this.myForm&&this.myForm.removeItem(this)}}},552:function(e,t,n){},555:function(e,t,n){"use strict";var r=n(47),i=n(46),o=n(75),s=n(370),a=n.n(s),l=n(404),u=n.n(l),c=n(456),f=n.n(c),d=(n(116),n(76),n(121),n(9),n(30),n(118)),h={name:"MyForm",components:{Form:f.a,FormItem:u.a,Button:a.a},provide:function(){return{myForm:this}},props:{model:Object,itemWidth:String,footer:{type:Boolean,default:!0},footerAlign:{type:String,validator:function(e){return["","left","right","center"].includes(e)}},submitText:{type:[String,Boolean],default:"提交"},submittingText:{type:String,default:"正在提交数据..."},onSubmit:{type:Function},resetText:{type:[String,Boolean],default:"重置"},resetSubmitSuccess:Boolean,collapsible:Boolean,collapsed:{type:Boolean,default:!0},collapseEffect:String,resetCollapsed:Boolean,footerBlock:Boolean,footerExpandBlock:{type:Boolean,default:!0},footerFloat:Boolean,loader:Function,dictMap:Object,prevent:{type:Boolean,default:!0}},data:function(){return this.items={},{currentModel:{},submitting:!1,currentCollapsed:!0}},computed:{footerClass:function(){var e;return e={},Object(o.a)(e,"is-align-".concat(this.footerAlign),!!this.footerAlign),Object(o.a)(e,"is-block",this.footerBlock||!this.currentCollapsed&&this.footerExpandBlock),Object(o.a)(e,"is-float-right",this.footerFloat),e}},watch:{model:{immediate:!0,deep:!0,handler:function(e){Object(d.e)(e,this.currentModel)||(this.currentModel=Object(d.b)(e||{}))}},collapsed:{immediate:!0,handler:function(e){this.currentCollapsed=e}},currentModel:{deep:!0,handler:function(e,t){Object(d.e)(e,t)||this.triggerChange(e)}},dictMap:function(e){var t=this;e&&Object.keys(this.items).forEach((function(n){var r=t.items[n],i=r.dict,o=r.loader;r.options||o||!i||(r.currentOptions=e[i]||[])}))}},methods:{submit:function(){var e=this;return new Promise((function(t,n){e.$refs.elForm.validate((function(r,i){if(r){e.$emit("validate-success");var o=Object(d.b)(e.currentModel);e.onSubmit&&(e.submitting=!0,e.onSubmit(o,e).then((function(){e.resetSubmitSuccess&&e.reset()})).finally((function(){e.submitting=!1}))),e.$emit("submit",o,e),t(o)}else e.$emit("validate-fail",i),n(i)}))}))},reset:function(){var e=this;this.currentModel=Object(d.b)(this.getDefaultValue()),this.$nextTick((function(){e.$refs.elForm&&e.$refs.elForm.clearValidate(),e.$emit("reset",e)}))},toggleCollapsed:function(){this.currentCollapsed=!this.currentCollapsed,this.$emit("collapse",this.currentCollapsed,this)},addItem:function(e){var t=e.name;if(t){if(t in this.items)throw new Error("表单中的项中 name：".concat(t," 重复，请确保在同一个表单中保持唯一"));this.items[t]=e}},removeItem:function(e){e.name&&delete this.items[e.name]},getDefaultValue:function(){return Object(d.b)(this.model||{})},triggerChange:function(e){var t=this;clearTimeout(this.changeTimer),this.changeTimer=setTimeout((function(){t.$emit("change",Object(d.b)(e))}),100)},setFormModel:function(e){var t=Object(d.b)(this.currentModel),n=Object(i.a)(Object(i.a)({},t),e);this.currentModel=n}}},p=n(19),m=Object(p.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Form",e._g(e._b({ref:"elForm",staticClass:"my-form",attrs:{model:e.currentModel},nativeOn:{submit:function(e){e.preventDefault()}}},"Form",e.$attrs,!1),e.$listeners),[e._t("default"),e._v(" "),e.footer?n("FormItem",{staticClass:"my-form__footer",class:e.footerClass,attrs:{label:" "}},[e._t("footer",[e.submitText?n("Button",{attrs:{type:"primary",loading:e.prevent&&e.submitting},on:{click:e.submit}},[e._v(e._s(e.prevent&&e.submitting?e.submittingText:e.submitText)+"\n      ")]):e._e(),e._v(" "),e.resetText?n("Button",{attrs:{disabled:e.prevent&&e.submitting,type:"default"},on:{click:e.reset}},[e._v(e._s(e.resetText))]):e._e(),e._v(" "),e._t("actions"),e._v(" "),e.collapsible?n("Button",{staticClass:"my-form__collapse",attrs:{disabled:e.prevent&&e.submitting,type:"text"},on:{click:e.toggleCollapsed}},[n("span",[e._v("\n         "+e._s(e.currentCollapsed?"展开":"收起")+"\n         "),n("i",{class:e.currentCollapsed?"el-icon-arrow-down":"el-icon-arrow-up"})])]):e._e()])],2):e._e()],2)}),[],!1,null,null,null).exports;t.a=Object(r.a)(m)},730:function(e,t,n){},734:function(e,t,n){"use strict";var r=n(47),i=n(46),o=n(376),s=n.n(o),a={name:"MyInput",mixins:[n(484).a],components:{Input:s.a},props:{value:String,textarea:Boolean},computed:{type:function(){return this.textarea?"textarea":"text"}},render:function(){var e=this,t=arguments[0],n=t("Input",{ref:"comp",class:"my-input",props:Object(i.a)({},this.innerProps),on:Object(i.a)({},this.$listeners),attrs:Object(i.a)(Object(i.a)({},this.innerProps),{},{type:this.type}),model:{value:e.fieldValue,callback:function(t){e.fieldValue=t}}},[this.createSlots(["prefix","suffix","prepend","append"])]);return this.renderComponent(n)},mounted:function(){this.extendMethods(this.$refs.comp,["focus","blur","select"])}};t.a=Object(r.a)(a)}}]);