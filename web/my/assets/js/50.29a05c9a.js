(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{2269:function(t,e,n){"use strict";var i=n(47),r=n(46),o=n(119),s=(n(2370),n(117),n(2550)),a=(n(77),n(205),n(422)),c={name:"MyDvTags",mixins:[n(501).a],components:{Box:a.a,MyTagCanvas:s.a},props:{data:{type:Array,default:function(){return[]}},options:Object,randomColor:Boolean,dataHelper:Function},computed:{tags:function(){var t,e,n=(null==this||null===(t=this.page)||void 0===t||null===(e=t.settings)||void 0===e?void 0:e.colors)||[],i=n.length,s=this.randomColor,a=this.dataHelper;return this.data.map((function(t,e){var c="object"===Object(o.a)(t);return Object(r.a)(Object(r.a)({color:s?n[Math.floor(Math.random()*i)]:n[0]||"#1890ff",text:c?"":t},c?t:null),a?a(t,e):null)}))},canvasOptions:function(){var t=this.width,e=this.height;return Object.freeze(Object(r.a)({maxSpeed:.02,minSpeed:.01,textColour:null,textHeight:14,fadeIn:300,depth:.97,minBrightness:.2,wheelZoom:!1,noTagsMessage:!1,reverse:!0,shuffleTags:!0,shadowOffset:[1,1],stretchX:t/150,stretchY:e/150,initial:[.01,.01],clickToFront:600,shadow:"rgba(255,255,255,0.2)",noMouse:!1,noSelect:!1},this.options))}}},l=n(19),u=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Box",t._b({staticClass:"my-dv-tags",attrs:{"default-width":"400px","default-height":"400px"}},"Box",t.$attrs,!1),[t.data.length&&t.width&&t.height?n("MyTagCanvas",t._g({attrs:{options:t.canvasOptions,data:t.tags}},t.$listeners)):t._e()],1)}),[],!1,null,null,null).exports;e.a=Object(i.a)(u)},367:function(t,e,n){"use strict";e.__esModule=!0,e.isInContainer=e.getScrollContainer=e.isScroll=e.getStyle=e.once=e.off=e.on=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.hasClass=f,e.addClass=function(t,e){if(!t)return;for(var n=t.className,i=(e||"").split(" "),r=0,o=i.length;r<o;r++){var s=i[r];s&&(t.classList?t.classList.add(s):f(t,s)||(n+=" "+s))}t.classList||(t.className=n)},e.removeClass=function(t,e){if(!t||!e)return;for(var n=e.split(" "),i=" "+t.className+" ",r=0,o=n.length;r<o;r++){var s=n[r];s&&(t.classList?t.classList.remove(s):f(t,s)&&(i=i.replace(" "+s+" "," ")))}t.classList||(t.className=(i||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))},e.setStyle=function t(e,n,r){if(!e||!n)return;if("object"===(void 0===n?"undefined":i(n)))for(var o in n)n.hasOwnProperty(o)&&t(e,o,n[o]);else"opacity"===(n=u(n))&&l<9?e.style.filter=isNaN(r)?"":"alpha(opacity="+100*r+")":e.style[n]=r};var r,o=n(0);var s=((r=o)&&r.__esModule?r:{default:r}).default.prototype.$isServer,a=/([\:\-\_]+(.))/g,c=/^moz([A-Z])/,l=s?0:Number(document.documentMode),u=function(t){return t.replace(a,(function(t,e,n,i){return i?n.toUpperCase():n})).replace(c,"Moz$1")},h=e.on=!s&&document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)},d=e.off=!s&&document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)};e.once=function(t,e,n){h(t,e,(function i(){n&&n.apply(this,arguments),d(t,e,i)}))};function f(t,e){if(!t||!e)return!1;if(-1!==e.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(e):(" "+t.className+" ").indexOf(" "+e+" ")>-1}var p=e.getStyle=l<9?function(t,e){if(!s){if(!t||!e)return null;"float"===(e=u(e))&&(e="styleFloat");try{switch(e){case"opacity":try{return t.filters.item("alpha").opacity/100}catch(t){return 1}default:return t.style[e]||t.currentStyle?t.currentStyle[e]:null}}catch(n){return t.style[e]}}}:function(t,e){if(!s){if(!t||!e)return null;"float"===(e=u(e))&&(e="cssFloat");try{var n=document.defaultView.getComputedStyle(t,"");return t.style[e]||n?n[e]:null}catch(n){return t.style[e]}}};var g=e.isScroll=function(t,e){if(!s)return p(t,null!==e||void 0!==e?e?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)};e.getScrollContainer=function(t,e){if(!s){for(var n=t;n;){if([window,document,document.documentElement].includes(n))return window;if(g(n,e))return n;n=n.parentNode}return n}},e.isInContainer=function(t,e){if(s||!t||!e)return!1;var n=t.getBoundingClientRect(),i=void 0;return i=[window,document,document.documentElement,null,void 0].includes(e)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:e.getBoundingClientRect(),n.top<i.bottom&&n.bottom>i.top&&n.right>i.left&&n.left<i.right}},389:function(t,e,n){"use strict";var i=n(2),r=n(49).findIndex,o=n(120),s=!0;"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},422:function(t,e,n){"use strict";var i=n(47),r=n(76),o=n(46),s=(n(201),n(116),n(389),n(202),n(31),{name:"MyDvBox",inheritAttrs:!1,provide:function(){return{layoutVm:this.layout?this:null}},inject:{layoutVm:{default:null}},props:{width:String,height:String,defaultWidth:{type:String,default:"auto"},defaultHeight:{type:String,default:"auto"},left:{type:[String,Number]},top:{type:[String,Number]},right:[String,Number],bottom:[String,Number],zIndex:[Number,String],xAlign:{type:String,validator:function(t){return["left","right","center"].includes(t)}},yAlign:{type:String,validator:function(t){return["top","bottom","middle"].includes(t)}},contentAlign:{type:String,default:"left",validator:function(t){return["left","right","center"].includes(t)}},zoom:Number,scale:Number,fit:Boolean,visible:{type:Boolean,default:!0},position:{type:Boolean,default:!0},margin:String,padding:String,inline:Boolean,opacity:{type:Number,default:1},shadow:Boolean,layout:Boolean,weight:{type:Number,default:1},gap:{type:Number,default:0},direction:{type:String,default:"row",validator:function(t){return["row","column"].includes(t)}},free:Boolean},data:function(){return{boxes:[]}},computed:{layoutSize:function(){var t=this,e=this.weight,n=this.layoutVm,i=this.free;if(n&&!i){var r=n.gap,o=n.direction,s=n.total,a=n.boxCount,c=n.boxes,l=c.findIndex((function(e){return e===t})),u=a-1,h="(100% - ".concat(r*u,"px) * ").concat(e," / ").concat(s),d=c.filter((function(t,e){return e<l})).reduce((function(t,e){return t+e.weight}),0),f="(100% - ".concat(r*u,"px) * ").concat(d," / ").concat(s," +  ").concat(l*r,"px");return"row"===o?{height:"calc(".concat(h,")"),top:"calc(".concat(f,")")}:{width:"calc(".concat(h,")"),left:"calc(".concat(f,")")}}return null},styles:function(){var t=this.inline,e=this.margin,n=this.padding,i=this.position,r=this.fit,s=this.width,a=this.height,c=this.left,l=this.top,u=this.right,h=this.bottom,d=this.zIndex,f=this.zoom,p=this.scale,g=this.xAlign,m=this.yAlign,y=this.defaultWidth,b=this.defaultHeight;return Object(o.a)({position:i?"absolute":"relative",width:r?"100%":s||y,height:r?"100%":a||b,zoom:f,left:g?null:c,top:m?null:l,right:g?null:u,bottom:m?null:h,transform:p?"scale(".concat(p,")"):null,display:t?"inline-block":"block",opacity:this.opacity,margin:e,padding:n,zIndex:d},this.layoutSize)},classes:function(){var t;return t={},Object(r.a)(t,"is-".concat(this.xAlign),!!this.xAlign),Object(r.a)(t,"is-".concat(this.yAlign),!!this.yAlign),Object(r.a)(t,"is-shadow",this.shadow),Object(r.a)(t,"is-center-middle","center"===this.xAlign&&"middle"===this.yAlign),Object(r.a)(t,"is-content-align-".concat(this.contentAlign),!!this.contentAlign),t},total:function(){return this.boxes.reduce((function(t,e){return t+e.weight}),0)},boxCount:function(){return this.boxes.length}},methods:{registerBox:function(t){this.boxes.push(t)},unregisterBox:function(t){this.boxes=this.boxes.filter((function(e){return e!==t}))}},created:function(){this.layoutVm&&!this.free&&this.layoutVm.registerBox(this)},beforeDestroy:function(){this.layoutVm&&!this.free&&this.layoutVm.unregisterBox(this)}}),a=(n(537),n(19)),c=Object(a.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return this.visible?e("div",this._g({staticClass:"my-dv-box",class:this.classes,style:this.styles},this.$listeners),[this._t("default")],2):this._e()}),[],!1,null,null,null).exports;e.a=Object(i.a)(c)},455:function(t,e,n){},472:function(t,e,n){},477:function(t,e,n){"use strict";var i=n(47),r=n(119),o=(n(201),n(202),n(366)),s=n(367),a=n(118),c=n(46),l={color:"#1de2ff",fill:"transparent",textColor:"#b4e4ff",colors:["#1165b2","#0d8888","#398912","#70980c","#b17706","#af620f","#af3b14","#ab181f","#a4226a","#502092","#2a39c3","#2a71c4","#128943","#49b312","#b28f13","#b25010","#bd352c","#a4224a","#6a1a97","#321a97","#1890ff","#13c2c2","#52c41a","#a0d911","#fdaa09","#fa8c16","#fa541c","#f5222d","#eb3197","#722ed1","#2f54eb"]},u={props:{config:Object},computed:{settings:function(){return Object(c.a)(Object(c.a)({},l),this.config)}}},h=n(507),d={name:"MyDvPage",mixins:[u],provide:function(){return{page:this}},props:{lock:{type:Boolean},scale:{type:Boolean,default:!0},width:{type:Number,default:1920,validator:function(t){return t>0}},height:{type:Number,default:1080,validator:function(t){return t>0}},activeIndex:{type:Number,default:0},target:{type:[String,HTMLElement,Function],default:function(){return document.body}},fit:Boolean,fullscreen:Boolean},data:function(){return{screens:[],screenActiveIndex:this.activeIndex,widthScale:1,heightScale:1,isFullScreen:!1}},watch:{$props:{deep:!0,immediate:!0,handler:function(){this.resize()}},activeIndex:{immediate:!0,handler:function(t){this.screenActiveIndex=t}}},computed:{styles:function(){return this.fit?{width:"100%",height:"100%",transform:"translateX(-50%) translateY(-50%)"}:{width:"".concat(this.width,"px"),height:"".concat(this.height,"px"),transform:"scaleX(".concat(this.widthScale,") scaleY(").concat(this.heightScale,") translateX(-50%) translateY(-50%)")}}},methods:{getTarget:function(){var t;switch(Object(r.a)(this.target)){case"string":t="parent"===this.target?this.$el.parentNode:document.querySelector(this.target);break;case"function":t=this.target();break;default:t=this.target}return t||document.body},resize:function(){if(!this.scale||this.fit)return this.widthScale=1,void(this.heightScale=1);var t=this.warpper||{},e=t.clientWidth,n=t.clientHeight;e&&n&&(this.lock?this.heightScale=this.widthScale=e/this.width:(this.widthScale=e/this.width,this.heightScale=n/this.height))},fullScreen:function(){var t=this.getTarget();Object(h.b)(t),this.isFullScreen=!0},exitFullScreen:function(){Object(h.a)(),this.isFullScreen=!1}},mounted:function(){this.warpper=this.getTarget(),Object(s.addClass)(this.warpper,"my-dv-page__wrapper"+this._uid),this.proxyResize=Object(a.c)(this.resize,100),Object(o.addResizeListener)(this.warpper,this.proxyResize),this.resize(),this.isFullScreen=!!this.fullscreen&&Object(h.c)()},beforeDestroy:function(){this.proxyResize&&Object(o.removeResizeListener)(this.warpper,this.proxyResize),Object(s.removeClass)(this.warpper,"my-dv-page__wrapper"+this._uid)}},f=(n(529),n(19)),p=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-dv-page",style:t.styles},[t._t("default"),t._v(" "),t.fullscreen?n("div",{staticClass:"my-dv-page__fullscreen"},[t.isFullScreen?n("i",{staticClass:"el-icon-switch-button",attrs:{title:"取消全屏"},on:{click:t.exitFullScreen}}):n("i",{staticClass:"el-icon-full-screen",attrs:{title:"全屏"},on:{click:t.fullScreen}})]):t._e()],2)}),[],!1,null,null,null).exports;e.a=Object(i.a)(p)},501:function(t,e,n){"use strict";var i=n(366);e.a={inject:{page:{default:null}},data:function(){return{width:0,height:0}},methods:{resize:function(){var t,e=null===(t=this.$el)||void 0===t?void 0:t.getBoundingClientRect();if(e){var n=this.page||{},i=n.widthScale,r=void 0===i?1:i,o=n.heightScale,s=void 0===o?1:o;this.width=e.width/r,this.height=e.height/s,this.$emit("resize",[this.width,this.height])}}},mounted:function(){this.resize(),Object(i.addResizeListener)(this.$el,this.resize)},beforeDestroy:function(){Object(i.removeResizeListener)(this.$el,this.resize)}}},507:function(t,e,n){"use strict";function i(t){var e=(t=t||document.documentElement).requestFullScreen||t.webkitRequestFullScreen||t.mozRequestFullScreen||t.msRequestFullscreen;void 0!==e&&e&&e.call(t)}function r(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}function o(){return document.isFullScreen||document.mozIsFullScreen||document.webkitIsFullScreen}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o}))},529:function(t,e,n){"use strict";n(455)},537:function(t,e,n){"use strict";n(472)}}]);